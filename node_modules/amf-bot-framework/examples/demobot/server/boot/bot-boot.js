var BotCore = require('../../../../lib/bot-core');
var BotDialogs = require('../../common/core/bot-dialogs');

module.exports = function(app) {
    app.bot = new BotCore({ 
        useLoopback: true,
        app: app, 
        useRest: true,
        locales: ['en', 'es'],
        i18nFolder: './common/core/i18n',
        cardFolder: './common/core/cards',
        actionFolder: './common/core/actions',
        dialogFolder: './common/core/dialogs',
        dialogClass: BotDialogs });
    app.post('/api/messages', app.bot.connector.listen());
    app.bot.domain.setRootVariable('url', 'http://localhost:3000/');
    app.bot.domain.setRootVariable('locale', 'es');
};
