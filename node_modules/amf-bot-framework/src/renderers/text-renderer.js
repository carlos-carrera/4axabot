import builder from 'botbuilder';

/**
 * Renderer for text cards.
 */
class TextRenderer {

  /**
   * Renderer for text cards.
   *
   * @constructor
   * @param bot { Object } Parent bot of the renderer.
   */
  constructor(bot) {
    this.bot = bot;
  }

  /**
   * Main render method of the class. Renders the card into Microsoft Bot
   * Framework objects, and send them to the front.
   *
   * @param session { Object } Chat session.
   * @param card { Object } Card instance.
   * @param cb { Function } Callback function.
   */
  render(session, card, cb) {
    this.bot.domain.renderObj(session, card, function(error, card) {
      if (error) {
        return cb(error);
      }
      var msg = new builder.Message(session).text(card.text);
      session.send(msg);
      return cb(null, msg);
    });
  }
}

export default TextRenderer;